@model AWWW_lab2_gr2.Models.Article;

<div class="text-center">
    <h1>Dodaj nowy artykul</h1>
    <form asp-controller="article" asp-action="add" method="post">
        <p>
            <label asp-for="Title">Title:</label>
            <input asp-for="Title" />
        </p>
        <p>
            <label asp-for="Lead">Lead:</label>
            <input asp-for="Lead" />
        </p>
        <p>
            <label asp-for="Content">Content:</label>
            <input asp-for="Content" />
        </p>
        <p>
            <label asp-for="CreationDate">CreationDate:</label>
            <input asp-for="CreationDate" type="date" />
        </p>
        <p>
            <label asp-for="AuthorId">Author:</label>
            <select asp-for="AuthorId" asp-items="@ViewBag.authorsList"></select>
        </p>
        <p>
            <label asp-for="CategoryId">Category:</label>
            <select asp-for="CategoryId" asp-items="@ViewBag.categoriesList"></select>
        </p>
        <p>
            @foreach (var tag in ViewBag.tagsList as List<SelectListItem>)
            {
                <div>
                    <input type="checkbox" name="positions" value="@tag.Value" id="tag_@tag.Value"
                    @(Model != null && Model.Tags.Any(p => p.Id.ToString() == tag.Value) ? "checked" : "") />
                    <label for="tag_@tag.Value">@tag.Text</label>
                </div>
            }
        </p>
        <button type="submit" class="btn btn-primary">Dodaj</button>
    </form>
</div>